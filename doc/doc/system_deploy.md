</br>
</br>

<img src="img/logo.png" align="middle"></img>

</br>
</br>

<h1 align="center"><strong>深圳市属公立医院信息子平台</strong></h1>
<h2 align="center">业务系统部署</h2>

![](https://img.shields.io/badge/Windows_Server-2012_R2-blueviolet.svg)
![](https://img.shields.io/badge/SQLServer-2016-orange.svg)
![](https://img.shields.io/badge/deploy-ODR_&_BI-blue.svg)
![](https://img.shields.io/badge/author-junjc9-red.svg)
![](https://img.shields.io/badge/施工日期-2019\09\02~11-yellow.svg)


</br>
</br>
</br>

<h1 align="center">目录</h1>


<!-- vscode-markdown-toc -->
* 1. [前置环境准备](#)
	* 1.1. [添加角色和功能功能](#-1)
	* 1.2. [配置为Web服务器](#Web)
* 2. [数据库还原](#-1)
* 3. [网站部署](#-1)
	* 3.1. [添加网站](#-1)
	* 3.2. [<strong>⚠</strong> 发布包文件夹属性](#strongstrong)
	* 3.3. [❗❗❗ 应用程序池及默认文档](#-1)
	* 3.4. [⚙ 修改`Web.config`配置文件](#Web.config)
* 4. [✨ 浏览器登录前台](#-1)
* 5. [👌 Q.E.D](#Q.E.D)

<!-- vscode-markdown-toc-config
	numbering=true
	autoSave=true
	/vscode-markdown-toc-config -->
<!-- /vscode-markdown-toc -->

</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>
</br>


# 从头开始<small>部署</small><strong>医疗质量监管系统</strong>

>     医疗质量监管系统是以市属公立医院医疗质量监管为核心，服务于卫健委医疗质量管理部门。依据卫健委医疗管理部门针对市属公立医院医疗质量监管预设的监管指标，进行场景式模拟从而建立各个场景对应的主题。利用数据分析引擎针对各个场景、指标进行多维度统计分析，利用可视化技术对统计分析结果采用不同图例、报表展示，生动且准确的表达信息的同时也进一步挖掘了信息背后隐藏的价值，为管理者提供决策支持。

##  1. <a name=''></a>前置环境准备



| 环境要求 |          |    最低配置                        |     建议配置     |
| -------- | -------- | ------------------------------------------- | -------- |
| 服务器端 | CPU      | *至强系列，32个CPU*                         |          |
|          | 内存     | *64G*                                       |          |
|          | 硬盘     | *2TB*                                       |          |
|          | SQ服务器 | *2005及以上*                                |          |
|          | 网络     |                                             |          |
| 客户端   | CPU      | *Intel(R) Core(TM) i3-2120M CPU @3.30GHzFg* |          |
|          | 内存     | *2G*                                        |          |
|          | 硬盘     | *200G*                                      |          |
|          | 分辨率   | *1024\*768*                                 |          |
|          | 操作系统 | *XP、win7、win8、win10*                     |          |
|          | 网络     | *至强系列，32个CPU，*                       |          |

###  1.1. <a name='-1'></a>添加角色和功能功能


- 具体操作见下图

![](img/19_09_10/QQ图片20190910142914.png)
![](img/19_09_10/QQ图片20190910142955.png)

- 直接**下一步**

###  1.2. <a name='Web'></a>配置为Web服务器

![](img/19_09_10/QQ图片20190910143203.png)


![](img\19_09_10\QQ图片20190910191436.png)

![](img/19_09_10/QQ图片20190910143448.png)
![](img/19_09_10/QQ图片20190910143541.png)
![](img/19_09_10/QQ图片20190910143641.png)

- 等待**安装**完成后重启即可

##  2. <a name='-1'></a>数据库还原

![](img/19_09_10/QQ图片20190910172912.png)
![](img/19_09_10/QQ图片20190910173058.png)
![](img/19_09_10/QQ图片20190910173227.png)
![](img/19_09_10/QQ图片20190910173301.png)
![](img/19_09_10/QQ图片20190910173348.png)
![](img/19_09_10/QQ图片20190910173441.png)

- 最后`确定`即可还原该数据库

</br>

##  3. <a name='-1'></a>网站部署

###  3.1. <a name='-1'></a>添加网站

![](img/19_09_10/QQ图片20190910143940.png)

> 在弹出的界面,填写网站名称`医疗质量`（可更改），物理路径（`前台发布包`所在路径），分配端口号（端口号必须大于8000），如：9001（如端口被占用，则换用其他端口号，保证端口号没有冲突），再点击确定，即可启动该网站

###  3.2. <a name='strongstrong'></a><strong>⚠</strong> 发布包文件夹属性

- 取消`只读`属性
- 添加所有权限都允许的`组或用户`

![](img\19_09_10\QQ图片20190910190955.png)

###  3.3. <a name='-1'></a>❗❗❗ 应用程序池及默认文档

![](img/19_09_10/QQ图片20190910150025.png)

> 选择**应用程序池**，在右侧列表中选择上一步配置的网站同名应用池,双击进入配值界面,**托管管道模式**选择`经典`，点击确定。操作如下图所示：

![](img/19_09_10/QQ图片20190910150114.png)


> 在主页打开`默认文档`选项


![](img/19_09_10/QQ图片20190910150142.png)

> 选择其中的`index.html`，点击右侧`上移`按钮，并将其**置顶**

![](img/19_09_10/QQ图片20190910150206.png)

###  3.4. <a name='Web.config'></a>  修改`Web.config`配置文件


![](img/19_09_10/QQ图片20190910150305.png)

- 使用文本编辑器打开，找到下列标签，按实际情况四个注释中的内容

```xml
<!-- 数据库连接字符串-->
<connectionStrings>
<add name="ConnectionString" connectionString="
server=;    <!-- 数据库服务器主机IP+实例名称-->
uid=sa;     <!-- 用户名，默认管理员-->
pwd=xxxx;   <!-- 密码-->
database=PLATFORM_TYPT_SZ;"  <!--数据库名称-->
/>
<add name="hisConnectionString" connectionString="
server=;
uid=sa;
pwd=xxxxxx;
database=HOSPITAL_CUBEDB_SZ;" />
</connectionStrings>
```

</br>

##  4. <a name='-1'></a>✨ 浏览器登录前台

| 部署系统 | 端口 | 用户 | 密码 | url |
| --- | --- | --- | --- | --- |
| 医疗质量 | 9001 | test | 123456 | [http://172.16.14.119:9001](http://172.16.14.119:9001) |
| 临床大数据挖掘 | 9002 | test | 123456 | [http://172.16.14.119:9002](http://172.16.14.119:9002) |

</br>

![](img/19_09_10/QQ图片20190910145326.png)
![](img/19_09_10/QQ图片20190910145450.png)
![](img/19_09_10/QQ图片20190910145607.png)
![](img/19_09_10/QQ图片20190910145638.png)

##  5. <a name='Q.E.D'></a>👌 Q.E.D 